!function(){"use strict";const e={ae_ar:{country:"ae",language:"ar"},ae_en:{country:"ae",language:"en"},africa:{country:"africa",language:"en"},at:{country:"at",language:"de"},au:{country:"au",language:"en"},be_en:{country:"be",language:"en"},be_fr:{country:"be",language:"fr"},be_nl:{country:"be",language:"nl"},bg:{country:"bg",language:"bg"},br:{country:"br",language:"pt"},ca:{country:"ca",language:"en"},ca_fr:{country:"ca",language:"fr"},ch_de:{country:"ch",language:"de"},ch_fr:{country:"ch",language:"fr"},ch_it:{country:"ch",language:"it"},cis_en:{country:"cis",language:"en"},cis_ru:{country:"cis",language:"ru"},cl:{country:"cl",language:"es"},cn:{country:"cn",language:"zh"},cy_en:{country:"cy",language:"en"},cz:{country:"cz",language:"cs"},de:{country:"de",language:"de"},dk:{country:"dk",language:"da"},eeurope:{country:"eeurope",language:"en"},ee:{country:"ee",language:"et"},en:{country:"us",language:"en"},es:{country:"es",language:"es"},fi:{country:"fi",language:"fi"},fr:{country:"fr",language:"fr"},gr_en:{country:"gr",language:"en"},hk_en:{country:"hk",language:"en"},hk_zh:{country:"hk",language:"zh"},hu:{country:"hu",language:"hu"},ie:{country:"ie",language:"en"},il_en:{country:"il",language:"en"},il_he:{country:"il",language:"he"},in:{country:"in",language:"en"},it:{country:"it",language:"it"},jp:{country:"jp",language:"ja"},kr:{country:"kr",language:"ko"},la:{country:"la",language:"es"},lt:{country:"lt",language:"lt"},lu_de:{country:"lu",language:"de"},lu_en:{country:"lu",language:"en"},lu_fr:{country:"lu",language:"fr"},lv:{country:"lv",language:"lv"},mena_ar:{country:"mena",language:"ar"},mena_en:{country:"mena",language:"en"},mena_fr:{country:"mena",language:"fr"},mt:{country:"mt",language:"en"},mx:{country:"mx",language:"es"},nl:{country:"nl",language:"nl"},no:{country:"no",language:"nb"},nz:{country:"nz",language:"en"},pl:{country:"pl",language:"pl"},pt:{country:"pt",language:"pt"},ro:{country:"ro",language:"ro"},ru:{country:"ru",language:"ru"},sa_ar:{country:"sa",language:"ar"},sa_en:{country:"sa",language:"en"},se:{country:"se",language:"sv"},sea:{country:"sea",language:"en"},sg:{country:"sg",language:"en"},si:{country:"si",language:"sl"},sk:{country:"sk",language:"sk"},th_en:{country:"th",language:"en"},th_th:{country:"th",language:"th"},tr:{country:"tr",language:"tr"},tw:{country:"tw",language:"zh"},ua:{country:"ua",language:"uk"},uk:{country:"uk",language:"en"}};const t="Tags level 1",n="Tags level 2",a="Hub filters",r="Word doc label",c="ExcludeFromMetadata";let l;const u={filters:{},categories:{},tags:{}};function o(e){let t=null;return function(e){return"string"==typeof e&&!!e.length}(e)&&(t=e.replace(/\n/gm," ").trim()),t}function g(e="en"){return l||(l=window.fetch(("en"!==e?`/${e}`:"")+"/_taxonomy.json").then((e=>e.json())).then((e=>{if(e&&e.data&&e.data.length){let l;return e.data.forEach((e=>{let g=o(e[t]);const s=o(e[n]);if(!(s||g))return;null!==g?l=g:g=l;const i={name:s||g,filter:o(e[a])||"Internals",category:o(e[r])||"Topics",level1:g,level2:s,exclude:!!o(e[c])};!function(e){Object.prototype.hasOwnProperty.call(u.tags,e.name)||null===e.name||(u.tags[e.name]=e)}(i),function(e){Object.prototype.hasOwnProperty.call(u.categories,e.category)||null===e.category||(u.categories[e.category]=[]),-1===u.categories[e.category].indexOf(e.name)&&null!==e.name&&u.categories[e.category].push(e.name)}(i),function(e){Object.prototype.hasOwnProperty.call(u.filters,e.filter)||null===e.filter||(u.filters[e.filter]=[]),-1===u.filters[e.filter].indexOf(e.name)&&null!==e.name&&u.filters[e.filter].push(e.name)}(i)})),{getCategories:function(){return u.categories},getFilters:function(){return u.filters},getTag:function(e){return u.tags[e]}}}return{}})).catch((()=>{throw new Error("Could not fetch taxonomy")})),l)}let s;const i=new URLSearchParams(window.location.search).get("locale")||"en",y=[],d=["fc5c65","fd9644","fed330","26de81","2bcbba","45aaf2"];function f(e=""){let t="";Object.entries(s.getFilters()).forEach((([n,a],r)=>{t+='<div class="filter">',t+=`<h2>${n}</h2>`,t+=`<style>[data-filter="${n}"] .tag--name { background-color: #${d[r]} }</style>`,a.forEach((n=>{const a=s.getTag(n);if("object"==typeof a){const n=a.name.toLowerCase().indexOf(e.toLowerCase());let r="";null!==a.level2&&(r=`${a.level1}/`),-1!==n&&(t+=`<span class="tag" data-path="${r}"\n                    data-filter="${a.filter}"\n                    data-category="${a.category}"\n                    data-name="${a.name}">`,r.length&&(t+=`<span class="tag--path">${r}</span>`),t+=`<span class="tag--name">${a.name}</span>`,t+="</span>")}})),t+="</div>"})),document.getElementById("results").innerHTML=t}!async function(){!function(){const t=document.getElementById("locale");Object.keys(e).forEach((e=>{t.insertAdjacentHTML("beforeend",`<option value="${e}" ${e===i?"selected":""}>${e}</option>`)})),t.addEventListener("change",(e=>{const t=new URL(window.location.href);t.searchParams.set("locale",e.target.value),window.location.href=t.toString()}))}();try{s=await g(i),f()}catch(e){document.getElementById("results").innerHTML="<p>Could not retrieve tags.</p>",document.getElementById("search").setAttribute("disabled","disabled")}document.getElementById("search").addEventListener("input",(e=>{f(e.target.value)})),document.addEventListener("click",(e=>{const t=e.target.closest(".tag");if(t instanceof HTMLElement){const e=t.classList.contains("selected"),n=t.getAttribute("data-name"),a=t.getAttribute("data-category"),r=t.getAttribute("data-filter"),c=t.getAttribute("data-path");e?(t.classList.remove("selected"),y.splice(y.findIndex((e=>e.name===n&&e.category===a&&e.filter===r&&e.path===c)),1)):(t.classList.add("selected"),y.push({name:n,category:a,filter:r,path:c})),function(){const e=Object.keys(s.getFilters()),t=Object.keys(s.getCategories()),n=document.getElementById("selection"),a={};let r="";y.sort(((n,a)=>{const r=t.indexOf(n.category),c=t.indexOf(a.category);if(r<c)return-1;if(r>c)return 1;const l=e.indexOf(n.filter),u=e.indexOf(a.filter);return l<u?-1:l>u?1:n.path<a.path?-1:n.path>a.path?1:n.name<a.name?-1:n.name>a.name?1:-1})),y.forEach((e=>{r+=`<span class="selectedTag" data-filter="${e.filter}">`,e.path.length&&(r+=`<span class="tag--path">${e.path}</span>`),r+=`<span class="tag--name">${e.name}</span>`,r+="</span>",Object.prototype.hasOwnProperty.call(a,e.category)||(a[e.category]=[]),a[e.category].push(e.name)})),r+='<div class="copy-buttons">Copy tags for:',Object.entries(a).forEach((([e,t])=>{r+=`<button data-target="selection-${e}" class="copy-button">${e}</button>`,r+=`<input type="text" id="selection-${e}" value="${t.join(", ")}" class="notInViewport" />`})),r+="<div>",document.addEventListener("click",(e=>{const t=e.target;if(t.closest(".copy-button")){const e=document.getElementById(`${t.getAttribute("data-target")}`);e instanceof HTMLElement&&(e.select(),document.execCommand("copy"),t.setAttribute("disabled","disabled"))}})),n.innerHTML=r,n.classList.toggle("visible",!!y.length)}()}}))}()}();
